apiVersion: v1
kind: Test
metadata:
  name: enabled-flags-test
spec:
  tests:
    - it: DaemonSet should be rendered when enabled is true
      set:
        daemonset.enabled: true
      asserts:
        - hasKind:
            kind: DaemonSet
    - it: DaemonSet should not be rendered when enabled is false
      set:
        daemonset.enabled: false
      asserts:
        - notHasKind:
            kind: DaemonSet
    - it: Deployment should be rendered when enabled is true
      set:
        deployment.enabled: true
      asserts:
        - hasKind:
            kind: Deployment
    - it: Deployment should not be rendered when enabled is false
      set:
        deployment.enabled: false
      asserts:
        - notHasKind:
            kind: Deployment
